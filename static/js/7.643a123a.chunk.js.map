{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","common/img/avatar.png","common/Paginator/Paginator.module.css","parts/Friends/usersList/users.module.css","common/Paginator/Pagination.tsx","parts/Friends/usersList/UsersList.tsx","parts/Friends/Friends.tsx","common/selectors/usersSelectors.js","parts/Friends/FriendsContainer.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Pagination","pageChanger","selectedPage","pagesCount","paginationPortion","pages","useState","forSelectedPage","setForSelectedPage","className","s","pageCount","onClick","paginatorSpans","nextPrevButtons","map","p","key","pageSelected","UsersList","friendsData","followLoad","follow","isFollowedB","friendsPlace","friend","id","friendCard","linkCard","to","avatarDiv","alt","avatar","src","photos","small","nameDiv","name","disabled","some","followed","followButton","Users","props","isFetching","getIsFetching","state","friendsPage","getFriendsData","getTotalUsersCount","totalUsersCount","getPageSize","pageSize","getSelectedPage","getPageCount","Math","ceil","getFollowLoad","getPaginationPortion","compose","connect","toggleFollowLoad","getUsersThunkCreator","getNewUsersPageThunkCreator","followThunkCreator","followFunctionActionCreator","setUsers","setUsersActionCreator","setTotalUsersCount","setTotalUsersCountActionCreator","setNewSelectedPage","setNewSelectedPageActionCreator","useEffect","isFollowed","people","style","color"],"mappings":"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","file":"static/js/7.643a123a.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/avatar.716105d1.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageCount\":\"Paginator_pageCount__2PJ1X\",\"pageSelected\":\"Paginator_pageSelected__2rCis\",\"nextPrevButtons\":\"Paginator_nextPrevButtons__s8PGl\",\"paginatorSpans\":\"Paginator_paginatorSpans__1isyL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsPlace\":\"users_friendsPlace__1YcRO\",\"friendCard\":\"users_friendCard__1YOd9\",\"avatarDiv\":\"users_avatarDiv__3W5V3\",\"border\":\"users_border__2WfKG\",\"avatar\":\"users_avatar__1Jdtp\",\"infoBar\":\"users_infoBar__2XQd3\",\"infoDiv2\":\"users_infoDiv2__3Q3eR\",\"infoDiv\":\"users_infoDiv__3sO46\",\"isFollowed\":\"users_isFollowed__1MPLG\",\"info\":\"users_info__2IDxk\",\"info2\":\"users_info2__3rINt\",\"name\":\"users_name__1jn25\",\"linkCard\":\"users_linkCard__2eFCC\",\"infoMoney\":\"users_infoMoney__1Tv22\",\"infoClickCount\":\"users_infoClickCount__Ooq1x\",\"infoHp\":\"users_infoHp__Ey_x-\",\"followButton\":\"users_followButton__3mjBV\",\"unfollow\":\"users_unfollow__QLf-u\"};","import React, {FC, useState} from \"react\"\r\nimport s from './Paginator.module.css';\r\n\r\ntype PropsType = {\r\n    pageChanger: (pagesCount: number) => void,\r\n    selectedPage: number,\r\n    pagesCount: number,\r\n    paginationPortion:number\r\n}\r\n\r\nconst Pagination: FC<PropsType> = ({ pageChanger, selectedPage, pagesCount, paginationPortion }) => {\r\n\r\n    let pages = []\r\n\r\n    let [forSelectedPage, setForSelectedPage] = useState(selectedPage)\r\n\r\n    for (let i = forSelectedPage - 3; i <= forSelectedPage + paginationPortion; i++) {\r\n        if (i > 0 && i <= pagesCount) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n\r\n    return <div className={s.pageCount}>\r\n        {forSelectedPage > 4 ? <span onClick={() => { pageChanger(1); setForSelectedPage(1)  }} className={s.paginatorSpans}>1...</span> : null}\r\n        {forSelectedPage > 4 ? <button className={s.nextPrevButtons} onClick={() => { setForSelectedPage(forSelectedPage - 10) }}>PREV</button> : null}\r\n        {pages.map(p => { return <span key={p} onClick={() => { pageChanger(p); setForSelectedPage(p)  }} className={(selectedPage === p && s.pageSelected) + \" \" + s.paginatorSpans}>{p}</span> })}\r\n        {forSelectedPage < pagesCount - paginationPortion ? <button className={s.nextPrevButtons} onClick={() => { setForSelectedPage(forSelectedPage + 10) }}>NEXT</button> : null}\r\n        {forSelectedPage < pagesCount - paginationPortion ? <span onClick={() => { pageChanger(pagesCount); setForSelectedPage(pagesCount)  }} className={s.paginatorSpans}>...{pagesCount}</span> : null}\r\n    </div>\r\n};\r\n\r\nexport default Pagination;\r\n","import React, {FC} from \"react\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport avatar from \"../../../common/img/avatar.png\";\r\nimport s from './users.module.css';\r\nimport {SmallUserType} from \"../../../common/types/types\";\r\n\r\n\r\ntype PropsType = {\r\n    friendsData: Array<SmallUserType>,\r\n    followLoad: Array<number>,\r\n    follow: any,\r\n    isFollowedB: any\r\n}\r\nconst UsersList: FC<PropsType> = ({ friendsData, followLoad, follow, isFollowedB }) => {\r\n    return (\r\n        <div className={s.friendsPlace}>\r\n            {friendsData.map(friend => (\r\n                <div key={friend.id} className={s.friendCard}>\r\n                    <NavLink className={s.linkCard} to={\"/user/\" + friend.id}>\r\n                        <div className={s.avatarDiv}>\r\n                            <img alt=\"User Avatar\" className={s.avatar} src={friend.photos.small != null ? friend.photos.small : avatar} />\r\n                        </div>\r\n                        <div className={s.nameDiv}>\r\n                            <p className={s.name}>{friend.name}</p>\r\n                        </div>\r\n                    </NavLink>\r\n                    <button disabled={followLoad.some(id => id === friend.id)} onClick={() => { follow(friend.id, friend.followed) }\r\n                    } className={s.followButton}>{isFollowedB(friend.followed)}</button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersList;\r\n","import React from \"react\";\r\nimport Pagination from \"../../common/Paginator/Pagination\";\r\nimport UsersList from \"./usersList/UsersList\";\r\nimport Preloader from \"../preloader/preloader\";\r\n\r\nlet Users = (props: any) => {\r\n\r\n    return (\r\n        <div>\r\n            <Pagination {...props} />\r\n            {props.isFetching ? <Preloader /> : <UsersList {...props} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;\r\n","export const getIsFetching = (state) => {\r\n    return state.friendsPage.isFetching\r\n}\r\nexport const getFriendsData = (state) => {\r\n    return state.friendsPage.friendsData\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.friendsPage.totalUsersCount\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.friendsPage.pageSize\r\n}\r\nexport const getSelectedPage = (state) => {\r\n    return state.friendsPage.selectedPage\r\n}\r\nexport const getPageCount = (state) => {\r\n    return Math.ceil((state.friendsPage.totalUsersCount) / (state.friendsPage.pageSize))\r\n}\r\nexport const getFollowLoad = (state) => {\r\n    return state.friendsPage.followLoad\r\n}\r\nexport const getPaginationPortion = (state) => {\r\n    return state.friendsPage.paginationPortion\r\n}\r\n\r\n\r\n\r\n","import React, {FC} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { followThunkCreator, getNewUsersPageThunkCreator, getUsersThunkCreator, followFunctionActionCreator, setUsersActionCreator, setTotalUsersCountActionCreator, setNewSelectedPageActionCreator, toggleFollowLoad } from \"../../redux/friendsReducer\"\r\nimport Users from \"./Friends\";\r\nimport { compose } from \"redux\";\r\nimport { useEffect } from \"react\";\r\nimport { getFollowLoad, getPageCount, getIsFetching, getFriendsData, getTotalUsersCount, getPageSize, getSelectedPage, getPaginationPortion } from \"../../common/selectors/usersSelectors\";\r\nimport {SmallUserType} from \"../../common/types/types\";\r\n\r\n\r\ntype PropsType = {\r\n    isFetching: boolean,\r\n    friendsData: Array<SmallUserType>,\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    selectedPage: number,\r\n    pagesCount: number,\r\n    followLoad: boolean,\r\n    paginationPortion: number,\r\n    toggleFollowLoad: any,\r\n    getUsersThunkCreator: any,\r\n    getNewUsersPageThunkCreator: any,\r\n    followThunkCreator: any,\r\n    follow: any,\r\n    setUsers:any,\r\n    setTotalUsersCount: any,\r\n    setNewSelectedPage: any\r\n}\r\nconst Friends: FC<PropsType> = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.getUsersThunkCreator(props.pageSize)\r\n    }, [props.pageSize])\r\n\r\n    let pageChanger = (p:number) => {\r\n        props.getNewUsersPageThunkCreator(props.pageSize, p)\r\n    }\r\n    let followF = (id:number, isFollowed:boolean) => {\r\n        props.followThunkCreator(id, isFollowed)\r\n    }\r\n    let isFollowedB = (people:any) => {\r\n        if (people === true) {\r\n            return (<span style={{ color: \"red\" }} >UNFOLLOW</span>)\r\n        } else {\r\n            return (<span>FOLLOW</span>)\r\n        }\r\n    }\r\n\r\n    return <>\r\n        <Users\r\n            {...props}\r\n            follow={followF}\r\n            pageChanger={pageChanger}\r\n            isFollowedB={isFollowedB}\r\n        />\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state:any) => {\r\n    return {\r\n        isFetching: getIsFetching(state) as boolean,\r\n        friendsData: getFriendsData(state) as Array<SmallUserType>,\r\n        totalUsersCount: getTotalUsersCount(state) as number,\r\n        pageSize: getPageSize(state) as number,\r\n        selectedPage: getSelectedPage(state) as number,\r\n        pagesCount: getPageCount(state) as number,\r\n        followLoad: getFollowLoad(state) as boolean,\r\n        paginationPortion: getPaginationPortion(state) as number,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{\r\n            toggleFollowLoad,\r\n            getUsersThunkCreator,\r\n            getNewUsersPageThunkCreator,\r\n            followThunkCreator,\r\n            follow: followFunctionActionCreator,\r\n            setUsers: setUsersActionCreator,\r\n            setTotalUsersCount: setTotalUsersCountActionCreator,\r\n            setNewSelectedPage: setNewSelectedPageActionCreator\r\n        })\r\n)(Friends);\r\n"],"sourceRoot":""}