{"version":3,"sources":["common/selectors/authSelectors.ts","common/img/avatar.png","common/validators/validators.ts","common/FormControls/FormsControl.js","common/FormControls/FormControl.module.css","HOC/withAuthRedirect.js","parts/social/social.module.css","parts/social/posts/post.module.css","parts/social/posts/post.jsx","parts/social/addPostForm/addPost.js","parts/social/social.jsx","common/selectors/socialPageSelectors.ts","parts/social/socialContainer.jsx"],"names":["getUserName","state","auth","login","getMyId","id","module","exports","requiredField","value","maxLengthCreator","maxLength","length","emailValidation","test","textareaFormControl","input","meta","props","hasError","touched","error","className","s","someError","inputFormControl","fieldCreator","component","validators","name","type","placeholder","text","validate","withAuthRedirect","Component","connect","isAuth","to","Post","deletePostFunction","post","socialPage","postData","map","key","avatar","alt","src","messageDiv","nameLink","message","likeDiv","onClick","like","likeNum","likes","maxLength300","AddPostReduxForm","reduxForm","form","handleSubmit","reset","useEffect","onSubmit","Social","addPostFunction","userName","back","addPostDiv","newPostData","newPostMessage","getSocialPage","compose","addPostFunctionActionCreator","deletePostFunctionActionCreator"],"mappings":"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","file":"static/js/6.ac4a847f.chunk.js","sourcesContent":["import {StateType} from \"../types/types\";\r\n\r\nexport const getUserName = (state: StateType): string | null => {\r\n    return state.auth.login\r\n}\r\nexport const getMyId = (state: StateType): number | null => {\r\n    return state.auth.id\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.716105d1.png\";","export const requiredField = (value: string): undefined | string => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number)=> (value: string): undefined|string  => {\r\n    if(value.length > maxLength) return \"Max length is \" + maxLength + \" symbols\";\r\n    return undefined;\r\n}\r\n\r\nexport const emailValidation = (value:string): undefined|string  => {\r\n    if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) return \"Invalid email address\"\r\n    return undefined\r\n}\r\n","import React from \"react\";\r\nimport s from \"./FormControl.module.css\";\r\nimport { Field } from \"redux-form\"\r\n\r\nexport const textareaFormControl =({input, meta, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <div >\r\n                <textarea className={hasError ? s.error : null} {...input} {...props} />\r\n            </div>\r\n            {hasError && <span className={s.someError}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const inputFormControl = ({ input, meta, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span className={s.someError}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const fieldCreator = (component, validators, name, type, placeholder, text, className) => {\r\n    return <div>\r\n        <Field\r\n            component={component}\r\n            validate={validators}\r\n            name={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            className={className}/>{text}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControl_error__gJjmm\",\"someError\":\"FormControl_someError__t-mu_\"};","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n            if(props.isAuth === false) return <Redirect to=\"/login\" />\r\n            return <Component {...props} />\r\n    }\r\n\r\n    let mapStateToProps = (state) => {\r\n        return{\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    const ConnectRedirectComponent = connect(mapStateToProps,{})(RedirectComponent)\r\n\r\n    return ConnectRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"social_back__V0VES\",\"newPostText\":\"social_newPostText__3MGju\",\"addPostDiv\":\"social_addPostDiv__1d_kC\",\"post\":\"social_post__2G08v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3VUtQ\",\"avatar\":\"post_avatar__3qsEh\",\"messageDiv\":\"post_messageDiv__3Erss\",\"nameLink\":\"post_nameLink__U23ID\",\"message\":\"post_message__2E2QE\",\"likeDiv\":\"post_likeDiv__2RN-y\",\"like\":\"post_like__4NHLU\"};","import React from \"react\";\r\nimport s from \"./post.module.css\";\r\nimport avatar from \"../../../common/img/avatar.png\";\r\n\r\nconst Post = ({ deletePostFunction, socialPage }) => {\r\n\r\n    let post = socialPage.postData.map(post =>\r\n        <div key={post.id} className={s.post}>\r\n            <div className={s.avatar}>\r\n                <img alt=\"Avatar\" className={s.avatar} src={avatar} />\r\n            </div>\r\n            <div className={s.messageDiv}>\r\n                <p className={s.nameLink}>{post.name}</p>\r\n                <p className={s.message}>{post.message}</p>\r\n            </div>\r\n            <div className={s.likeDiv}>\r\n                <button onClick={() => { deletePostFunction(post.id) }} className={s.like}>DELETE POST</button>\r\n                <p className={s.likeNum}>Likes:{post.likes}</p>\r\n            </div>\r\n        </div>);\r\n\r\n    return (\r\n        <>\r\n            {post}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Post;","import React, {useEffect} from \"react\"\r\nimport {reduxForm} from \"redux-form\";\r\nimport {requiredField, maxLengthCreator} from \"../../../common/validators/validators\";\r\nimport {textareaFormControl, fieldCreator} from \"../../../common/FormControls/FormsControl\";\r\n\r\n\r\nconst maxLength300 = maxLengthCreator(300);\r\n\r\nconst AddPost = ({handleSubmit, reset, length}) => {\r\n\r\n    useEffect(() => {\r\n        reset();\r\n    }, [length])\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {fieldCreator(textareaFormControl, [requiredField, maxLength300], \"newPostMessage\", null, \"Type something . . .\", null)}\r\n            <button>Add Post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({form: \"AddPost\"})(AddPost)\r\n\r\nexport default AddPostReduxForm","import React from \"react\";\r\nimport s from \"./social.module.css\"\r\nimport Post from \"./posts/post\";\r\nimport AddPostReduxForm from \"./addPostForm/addPost\";\r\n\r\nconst Social = ({socialPage, deletePostFunction, addPostFunction, userName,reset}) => {\r\n\r\n    let onSubmit = (newPostData) => {\r\n        addPostFunction(newPostData.newPostMessage, userName);\r\n    };\r\n\r\n    return (\r\n        <div className={s.back}>\r\n            <div className={s.addPostDiv}>\r\n                <AddPostReduxForm length={socialPage.postData.length} onSubmit={onSubmit} />\r\n            </div>\r\n            <div className={s.post}>\r\n                <Post socialPage={socialPage} deletePostFunction={deletePostFunction}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Social;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {StateType} from \"../types/types\";\r\nimport {SocialReducerInitialStateType} from \"../../redux/socialReducer\";\r\n\r\nexport const getSocialPage = (state: StateType): SocialReducerInitialStateType => {\r\n    return state.socialPage\r\n}\r\n","import {addPostFunctionActionCreator, deletePostFunctionActionCreator} from \"../../redux/socialReducer\"\r\nimport Social from \"./social\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {getSocialPage} from \"../../common/selectors/socialPageSelectors\";\r\nimport {getUserName} from \"../../common/selectors/authSelectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        socialPage: getSocialPage(state),\r\n        userName: getUserName(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        addPostFunction: addPostFunctionActionCreator,\r\n        deletePostFunction: deletePostFunctionActionCreator\r\n    })\r\n)(Social);\r\n"],"sourceRoot":""}